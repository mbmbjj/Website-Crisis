<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
    <script>
        function storeFormData() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const answers = Array.from(document.querySelectorAll('input[name="allergy"]:checked')).map(input => input.value);
            const otherAnswer = document.getElementById('other-answer').value;

            document.cookie = `username=${username}; path=/`;
            document.cookie = `email=${email}; path=/`;
            document.cookie = `password=${password}; path=/`;
            document.cookie = `answers=${answers.join(',')}; path=/`;
            document.cookie = `otherAnswer=${otherAnswer}; path=/`;
        }

        function showOtherAnswerInput() {
            const otherInput = document.getElementById('other-input');
            if (document.getElementById('other').checked) {
                otherInput.style.display = 'block';
            } else {
                otherInput.style.display = 'none';
            }
        }
    </script>
</head>
<body>
    <h1>Register</h1>
    <form onsubmit="storeFormData(); return false;">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required><br><br>

        <label>Allergies (select all that apply):</label><br>
        <input type="checkbox" id="egg" name="allergy" value="egg">
        <label for="egg">Egg</label><br>
        <input type="checkbox" id="fish" name="allergy" value="fish">
        <label for="fish">Fish</label><br>
        <input type="checkbox" id="peanut" name="allergy" value="peanut">
        <label for="peanut">Peanut</label><br>
        <input type="checkbox" id="milk" name="allergy" value="milk">
        <label for="milk">Milk</label><br>
        <input type="checkbox" id="seafood" name="allergy" value="seafood">
        <label for="seafood">Seafood</label><br>
        <input type="checkbox" id="soy" name="allergy" value="soy">
        <label for="soy">Soy</label><br>
        <input type="checkbox" id="wheat" name="allergy" value="wheat">
        <label for="wheat">Wheat</label><br>
        <input type="checkbox" id="other" name="allergy" value="other" onclick="showOtherAnswerInput()">
        <label for="other">Other</label><br>
        
        <div id="other-input" style="display:none;">
            <label for="other-answer">Please specify:</label>
            <input type="text" id="other-answer" name="other-answer"><br><br>
        </div>

        <button type="submit">Register</button>
    </form>
</body>
</html>